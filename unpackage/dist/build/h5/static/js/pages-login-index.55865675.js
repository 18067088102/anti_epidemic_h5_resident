(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{"2ac1":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login_container1"},[n("v-uni-view",{staticClass:"login_head"},[n("v-uni-image",{staticClass:"head_img",attrs:{src:i("7de1").replace(/^\./,"")}}),n("v-uni-text",{staticClass:"login_title"},[e._v("系统登录")]),n("v-uni-view",{staticClass:"title_tip"},[n("v-uni-view",{staticClass:"head_line"}),n("v-uni-text",{staticClass:"head_text"},[e._v("请先使用您的手机号登录系统")]),n("v-uni-view",{staticClass:"head_line"})],1)],1),n("v-uni-view",{staticClass:"login-container"},[n("v-uni-view",{staticClass:"phone-view common-view"},[n("v-uni-input",{staticClass:"login-input",attrs:{value:e.phoneNo,"data-id":"phoneNo",type:"number",maxlength:"11",placeholder:"请输入手机号","placeholder-class":"placeholder"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getValue.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.phoneNoBlur.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"vscode-view common-view"},[n("v-uni-input",{staticClass:"login-input",attrs:{value:e.smsCode,"data-id":"smsCode",maxlength:"6",placeholder:"输入验证码","placeholder-class":"placeholder"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getValue.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"line"}),n("v-uni-text",{staticClass:"vscode-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onGetCode.apply(void 0,arguments)}}},[e._v(e._s(e.getCodeText))])],1),n("v-uni-button",{staticClass:"submit-btn",staticStyle:{"margin-bottom":"30rpx"},attrs:{loading:e.isLoading,disabled:e.isDisable},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitHandler.apply(void 0,arguments)}}},[e._v(e._s(e.buttonText))])],1)],1)},a=[]},"5e2b":function(e,t,i){var n=i("8fa4");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("127788ea",n,!0,{sourceMap:!1,shadowMode:!1})},"7d85":function(e,t,i){"use strict";var n=i("5e2b"),o=i.n(n);o.a},"7de1":function(e,t,i){e.exports=i.p+"static/img/login_img.af321b71.png"},"8fa4":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */\n/**\n  register&forget界面css样式\n  **/.login-container[data-v-22d11de5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-color:#f6f8fa;height:100%}.common-view[data-v-22d11de5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?690?%;height:%?88?%;background:#fff;border-radius:%?44?%;position:relative}.phone-view[data-v-22d11de5]{margin:%?71?% %?30?% 0}.login-input[data-v-22d11de5]{margin-left:%?49?%;width:%?430?%;height:%?40?%;font-size:%?32?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#2f2d2c;line-height:%?48?%}.seePsw-view[data-v-22d11de5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?50?%;height:%?50?%;position:absolute;right:%?49?%}.seePsw-img[data-v-22d11de5]{width:%?36?%;height:%?36?%}.placeholder[data-v-22d11de5]{font-size:%?30?%;color:#979797;text-align:left}.vscode-view[data-v-22d11de5]{margin:%?32?% %?30?% 0}.line[data-v-22d11de5]{margin-left:%?9?%;width:%?1?%;height:%?29?%;background-color:#979797}.vscode-text[data-v-22d11de5]{height:%?40?%;line-height:%?40?%;margin-left:%?20?%;font-size:%?28?%;color:#218eff}.warn-container[data-v-22d11de5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?34?%;margin-left:%?30?%}.warn-img[data-v-22d11de5]{width:%?32?%;height:%?32?%;margin-right:%?10?%}.warn-text[data-v-22d11de5]{height:%?37?%;font-size:%?26?%;font-weight:400;color:#333;line-height:%?37?%}.submit-btn[data-v-22d11de5]{margin-top:%?100?%}.login_container1[data-v-22d11de5]{width:100%;min-height:100%;position:relative}.login_head[data-v-22d11de5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:100%}.head_img[data-v-22d11de5]{width:100%;height:%?410?%}.login_title[data-v-22d11de5]{font-family:微软雅黑 Bold,微软雅黑 Regular,微软雅黑,sans-serif;font-weight:700;font-style:normal;font-size:%?48?%;color:#1b7ac2;margin-top:%?40?%}.title_tip[data-v-22d11de5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?40?%}.head_line[data-v-22d11de5]{width:%?140?%;height:%?2?%;background:#1b7ac2}.head_text[data-v-22d11de5]{font-family:PingFangSC-Regular,PingFang SC;font-weight:400;font-size:%?28?%;color:#1b7ac2;line-height:%?37?%;margin:0 %?20?%}',""]),e.exports=t},"9d85":function(e,t,i){"use strict";i.r(t);var n=i("2ac1"),o=i("9ee0");for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("7d85");var s,l=i("f0c5"),r=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,"22d11de5",null,!1,n["a"],s);t["default"]=r.exports},"9ee0":function(e,t,i){"use strict";i.r(t);var n=i("cea0"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},cea0:function(e,t,i){"use strict";var n=i("4ea4");i("ac1f"),i("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var o=n(i("1da1")),a={data:function(){return{phoneNo:"",smsCode:"",isLoading:!1,buttonText:"登录",isDisable:!0,getCodeText:"获取验证码",isDisabled:!0}},onLoad:function(){this.phoneNo=uni.getStorageSync("phoneNo")},onShow:function(){var e=uni.getStorageSync("token");e&&uni.switchTab({url:"/pages/home/index"})},methods:{onGetCode:function(){""!=this.phoneNo?11==this.phoneNo.length&&/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNo)?1==this.isDisabled?(uni.showToast({title:"加载中…",icon:"loading"}),this.getCodeRequest()):uni.showToast({title:"已获取验证码,请稍后再试",icon:"none"}):uni.showToast({title:"请输入正确的手机号",icon:"none"}):uni.showToast({title:"手机号码不能为空",icon:"none"})},getCodeRequest:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.next=3,i.$http(i.$api.getLoginSMSCodeUrl+"?phone="+i.phoneNo,{method:"POST",data:{},token:""}).then((function(e){i.handleRequestResult(e)})).catch((function(e){}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},handleRequestResult:function(e){if(uni.hideToast(),200==e.code){uni.showToast({title:"获取验证码成功",icon:"none"});var t=this,i=60,n=setInterval((function(){t.getCodeText=--i+"s后重试",t.isDisabled=!1,-1==i&&(clearInterval(n),t.getCodeText="获取验证码",t.isDisabled=!0)}),1e3)}else uni.showToast({title:e.message,icon:"none"})},submitHandler:function(e){11==this.phoneNo.length&&/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNo)?(this.isLoading=!0,this.buttonText="登录中...",this.isDisable=!0,this.onLoginEvent()):uni.showToast({title:"请输入正确的手机号",icon:"none"})},onLoginEvent:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.next=3,i.$http(i.$api.loginUrl+"?mobile="+i.phoneNo+"&vcode="+i.smsCode,{method:"POST",data:{},token:""}).then((function(t){e.isLoading=!1,e.buttonText="登录",e.isDisable=!1,200==t.code?(uni.setStorageSync("token",t.token.token),uni.showToast({title:"登录成功",icon:"none",success:function(e){uni.switchTab({url:"/pages/home/index"})}})):uni.showToast({title:t.message,icon:"none"})})).catch((function(t){e.isLoading=!1,e.buttonText="登录",e.isDisable=!1}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},toForget:function(){uni.navigateTo({url:"/pages/register/index?fromID=1"})},phoneNoBlur:function(e){var t=e.detail.value||e.detail.text;t||(t=""),11==t.length&&/^1(3|4|5|6|7|8|9)\d{9}$/.test(t)||uni.showToast({title:"请输入正确的手机号",icon:"none"})},getValue:function(e){var t=e.currentTarget.dataset.id;"phoneNo"==t&&(this.phoneNo=e.detail.value.replace(/\s+/g,"")),"smsCode"==t&&(this.smsCode=e.detail.value.replace(/\s+/g,"")),this.validateEmpty()},validateEmpty:function(){""==this.phoneNo||""==this.smsCode?this.isDisable=!0:this.isDisable=!1}}};t.default=a}}]);